"""
@author: Jonny

"""

import os,sys,re,subprocess

class handler:
    desc=None
    dir = "D:\\+PDF+\\RFC\\"
    index = "rfc-index.txt"
    ids = list()
    help = list()
    dec=list()
    #main - editor
    def main(self,name):
        self.dec.add(subprocess.Popen("start cmd %PYTHON% editor.py "+name))
        
    def find(self,name):
        where = os.open(self.dir+self.index, 'r')
        data = where.read()
        splited = data.split("\r\n\r\n")
        for split in splited:
            result = re.match(".*?"+name+"?.*", split, "gi")  
            if result != None:
                dat = result.split("\x20")  
                self.ids.add(dat.index(0))
                self.help.add(result)
        self.search()
        
    def search(self):
        os.chdir(self.dir)
        a=0
        for id in self.ids:
            print "(%s) %s %s" % (a,help.index(a),id)
        inp = raw_input()
        if inp != None:
            self.main(self.dir+"rfc"+self.ids.index(a))
        
print "Zadejte co hledate:\r\n"
inpu = ""
inpu = raw_input()
handle = handler()
handle.find(inpu)
        


